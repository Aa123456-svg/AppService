<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"
>
    <p:importConstants type="ir.appservice.model.entity.application.ui.Menu"/>

    <p:dialog id="EDIT_ITEM_DIALOG"
              header="Editing #{accountCrudBean.item.displayName}"
              widgetVar="EDIT_ITEM_DIALOG"
              modal="true" resizable="false"
              style="width: auto !important;"
    >
        <h:form prependId="false">
            <h:panelGrid columns="3" cellpadding="50">

                <p:outputLabel for="@next">
                    <p:graphicImage
                            value="#{accountCrudBean.documentService.streamImage()}"
                            style="width: 50px; height: 50px;"
                            styleClass="accountAvatar"
                    >
                        <f:param name="imageId"
                                 value="#{accountCrudBean.item.avatar!=null?accountCrudBean.item.avatar.id:-1}"/>
                    </p:graphicImage>
                </p:outputLabel>
                <p:fileUpload id="EDIT_ITEM_DIALOG_ITEM_AVATAR" fileUploadListener="#{accountCrudBean.uploadAvatar}"
                              mode="advanced"
                              dragDropSupport="true" auto="false" onstart="showBar()" oncomplete="hideBar()"
                              multiple="false"
                              sizeLimit="1000000"
                              allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
                />
                <p:message for="@previous" display="icon"/>

                <p:outputLabel for="@next" value="Display Name"/>
                <p:inputText id="EDIT_ITEM_DIALOG_ITEM_DISPLAYNAME" required="true"
                             value="#{accountCrudBean.item.displayName}"/>
                <p:message for="@previous" display="text"/>

                <p:outputLabel for="@next" value="Account Name"/>
                <p:inputText id="EDIT_ITEM_DIALOG_ITEM_ACCOUNT_NAME" value="#{accountCrudBean.item.accountName}"/>
                <p:message for="@previous" display="text"/>

                <p:outputLabel for="@next" value="Email"/>
                <p:inputText id="EDIT_ITEM_DIALOG_ITEM_EMAIL" required="true" value="#{accountCrudBean.item.email}"/>
                <p:message for="@previous" display="text"/>

                <p:outputLabel for="@next" value="Mobile Number"/>
                <p:inputText id="EDIT_ITEM_DIALOG_ITEM_MOBILE_NUMBER" required="true"
                             value="#{accountCrudBean.item.mobileNumber}"/>
                <p:message for="@previous" display="text"/>

            </h:panelGrid>

            <hr/>

            <p:commandButton id="EDIT_ITEM_BUTTON"
                             value="Apply"
                             action="#{accountCrudBean.edit}"
                             title="Apply Edit"
                             update="@form, ITEMS_LIST"
            />
        </h:form>
    </p:dialog>

</ui:composition>